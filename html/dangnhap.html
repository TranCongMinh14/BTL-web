<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Đăng nhập</title>
  <link rel="shortcut icon" href="../img//Logo/logo.png" type="image/x-icon">
  <link rel="stylesheet" href="../css/bootstrap.min.css" />
  <link rel="stylesheet" href="../fontawesome-free-6.5.2-web/css/all.min.css">
  <link rel="stylesheet" href="../css/format.css" />
  <script src="../js/jquery-3.7.1.min.js"></script>
  <script src="../js/bootstrap.min.js"></script>
  <script src="../js/data.js"></script>
</head>

<body>
  <header>
    <div class="container-fluid">
      <div class="row">
        <div class="col-md-12 col-sm-12">
          <img src="../img/Banner/bannenowfree.jpg" alt="header-banner" class="header-banner">
        </div>
      </div>
      <div class="row"> <!-- Di chuyển dòng này lên đây -->
        <nav class="navbar navbar-expand-lg navbar-light ">
          <a class="navbar-brand" href="index.html"><img src="../img//Logo/logo-nobackgroud.jpg" alt=""
              class="logo" /></a>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>

          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
              <li class="nav-item active">
                <a class="nav-link" href="index.html"><i class="fa-solid fa-house"
                    style="color: rgba(31,81,37,255);"></i> Trang chủ <span class="sr-only">(current)</span></a>
              </li>
              <li class="nav-item  mx-3">
                <a class="nav-link" href="gioithieu.html"><i class="fa-solid fa-envelope"
                    style="color: rgba(31,81,37,255);"></i> Giới thiệu</a>
              </li>
              <li class="nav-item  mx-3">
                <a class="nav-link" href="sitemap.html"><i class="fa-solid fa-location-dot"
                    style="color: rgba(31,81,37,255);"></i> Site map</a>
              </li>
              <li class="nav-item mx-3">
                <a class="nav-link" href="tintuc.html"><i class="fa-solid fa-scroll"
                    style="color: rgba(31,81,37,255);"></i> Tin tức</a>
              </li>
              <li class="nav-item mx-3">
                <a class="nav-link" href="sanpham.html"><i class="fa-solid fa-truck"
                    style="color: rgba(31,81,37,255);"></i> Sản phẩm</a>
              </li>
              <li class="nav-item mx-3">
                <!-- Tài khoản dropdown -->
                <div class="dropdown">
                  <a class="nav-link dropdown-toggle" href="#" role="button" id="dropdownAccount" data-toggle="dropdown"
                    aria-haspopup="true" aria-expanded="false">
                    <i class="fa-solid fa-circle-user" style="color: rgba(31,81,37,255);"></i>
                    Tài
                    khoản
                  </a>
                  <div class="dropdown-menu" aria-labelledby="dropdownAccount">
                    <a class="dropdown-item" href="../html/dangnhap.html">Đăng nhập</a>
                    <a class="dropdown-item" href="../html/dangky.html">Đăng ký</a>
                  </div>
                </div>
              </li>
              <li class="nav-item mx-3">
                <a class="nav-link" href="gioHang.html"><i class="fa-solid fa-cart-shopping"
                    style="color: rgba(31,81,37,255);"></i>Giỏ hàng </a>
              </li>
            </ul>
            <form class="form-inline my-2 my-lg-0">
              <input class="form-control mr-sm-n5" type="search" placeholder="Tìm kiếm sản phẩm ..." aria-label="Search"
                id="searchBar" style="width: 300px;" />
              <button class="btn btn-outline-success my-2 mx-sm-5" type="button" id="btnSearchBar">
                <i class="fa-solid fa-magnifying-glass"></i>
              </button>
            </form>
          </div>
        </nav>
      </div>
      <div class="row"> <!-- Thêm dòng này vào cuối cùng của header -->
        <div class="header-line"></div>
      </div>
    </div>
  </header>

  <section>
    <div class="container mt-3">
      <div class="row justify-content-center">
        <div class="col-md-6">
          <form id="loginForm">
            <table class="table table-light table-sm center-table">
              <thead class="border-info">
                <tr>
                  <th class="text-center text-success">
                    <h1>Đăng nhập tài khoản</h1>
                  </th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>
                    <div class="form-group">
                      <label for="tenDangNhap">Tên đăng nhập:</label>
                      <input type="text" class="form-control" id="tenDangNhap" aria-describedby="tenDangNhap" />
                      <small id="tenDangNhapHelp" class="form-text text-muted">Tên đăng nhập là tên gmail đăng ký/Tên
                        người
                        dùng.</small>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td>
                    <div class="form-group">
                      <label for="new_pwd">Mật khẩu:</label>
                      <input type="password" class="form-control" id="new_pwd" />
                    </div>
                  </td>
                </tr>
                <tr>
                  <td>
                    <div class="form-group form-check mb-3 form-check-inline">
                      <input class="form-check-input" type="checkbox" value="" id="NhoDN" />
                      <label class="form-check-label" for="NhoDN">
                        Ghi nhớ đăng nhập
                      </label>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td>
                    <div class="form-group">
                      <button type="button" class="btn btn-success" id="btnDangNhap">
                        Đăng nhập
                      </button>
                      <a href="./index.html" class="btn btn-outline-secondary">Trở về</a>
                    </div>
                    <p>Chưa có tài khoản: <a href="dangky.html">Đăng kí ngay</a></p>
                  </td>
                </tr>
              </tbody>
            </table>
          </form>
        </div>
      </div>
    </div>
  </section>
  <!-- footer -->
  <footer class="badge-dark text-md-center text-white mt-5">
    <div class="container">
      <div class="container p-4">
        <!-- Section: Social media -->
        <section class="mb-4">
          <!-- Facebook -->
          <a class="btn btn-outline-light btn-floating m-1"
            href="https://www.facebook.com/profile.php?id=100082292613641" role="button"><i
              class="fab fa-facebook-f"></i></a>

          <!-- Twitter -->
          <a class="btn btn-outline-light btn-floating m-1"
            href="https://www.facebook.com/profile.php?id=100082292613641" role="button"><i
              class="fab fa-twitter"></i></a>

          <!-- Google -->
          <a class="btn btn-outline-light btn-floating m-1" href="https://mail.google.com/" role="button"><i
              class="fab fa-google"></i></a>

          <!-- Instagram -->
          <a class="btn btn-outline-light btn-floating m-1" href="https://www.instagram.com/t.c.minh.14/"
            role="button"><i class="fab fa-instagram"></i></a>

          <!-- Github -->
          <a class="btn btn-outline-light btn-floating m-1" href="https://github.com/TranCongMinh14" role="button"><i
              class="fab fa-github"></i></a>
        </section>
        <!-- Section: Social media -->

        <!-- Section: Form -->
        <section class="">
          <form action="dangky.html">
            <!--Grid row-->
            <div class="row d-flex justify-content-center">
              <!--Grid column-->
              <div class="col-md-4 col-4">
                <p class="pt-2 font-weight-bold">
                  Sign up for our newsletter
                </p>
              </div>
              <!--Grid column-->
              <!--Grid column-->
              <div class="col-md-4 col-4">
                <!-- Email input -->
                <div class="form-outline form-white mb-4">
                  <input type="email" id="form5Example21" class="form-control" />
                  <label class="form-label" for="form5Example21">Email address</label>
                </div>
              </div>
              <!--Grid column-->

              <!--Grid column-->
              <div class="col-md-4 col-4">
                <!-- Submit button -->
                <button type="submit" class="btn btn-outline-light mb-4">
                  Subscribe
                </button>
              </div>
              <!--Grid column-->
            </div>
            <!--Grid row-->
          </form>
        </section>
        <!-- Section: Form -->
        <!-- Section: Links -->
        <section class="">
          <!--Grid row-->
          <div class="row">
            <!--Grid column-->
            <div class="col-lg-3 col-md-6 mb-4 mb-md-0 text-left">
              <h5 class="font-weight-bold text-uppercase">Danh mục</h5>
              <ul class="list-unstyled mb-0 ">
                <li class="nav-item">
                  <a class="nav-link" href="gioithieu.html">Giới thiệu</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="./index.html">Trang chủ</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="./tintuc.html">Tin tức</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="./dangky.html">Đăng ký</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="./dangnhap.html">Đăng nhập</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="./gioHang.html">Giỏ hàng</a>
                </li>
              </ul>
            </div>
            <!--Grid column-->

            <!--Grid column-->
            <div class="col-lg-3 col-md-6 mb-4 mb-md-0 text-left">
              <h5 class="font-weight-bold text-uppercase">Hỗ trợ khách hàng</h5>

              <ul class="list-unstyled mb-0">
                <li>
                  <a href="#!" class="text-white">Hướng dẫn mua hàng trực tuyến </a>
                </li>
                <li>
                  <a href="#!" class="text-white">Hướng dẫn thanh toán</a>
                </li>
                <li>
                  <a href="#!" class="text-white">Gửi yêu cầu khiếu nại</a>
                </li>
                <li><a href="#!" class="text-white">Câu hỏi thường gặp (FAQs)</a></li>
              </ul>
            </div>
            <!--Grid column-->

            <!--Grid column-->
            <div class="col-lg-3 col-md-6 mb-4 mb-md-0 text-left">
              <h5 class="font-weight-bold text-uppercase">Chính sách</h5>

              <ul class="list-unstyled mb-0">
                <li>
                  <a href="#!" class="text-white">Chính sách quy định chung</a>
                </li>
                <li>
                  <a href="#!" class="text-white">Chính sách bảo mật</a>
                </li>
                <li>
                  <a href="#!" class="text-white">Chính sách vận chuyển & giao nhận</a>
                </li>
                <li>
                  <a href="#!" class="text-white">Chính sách đổi trả</a>
                </li>
              </ul>
            </div>
            <!--Grid column-->

            <!--Grid column-->
            <div class="col-lg-3 col-md-6 mb-4 mb-md-0 text-left">
              <h5 class="font-weight-bold text-uppercase">Thông tin khuyến mãi</h5>

              <ul class="list-unstyled mb-0">
                <li>
                  <a href="#!" class="text-white">Sản phẩm nổi bật</a>
                </li>
                <li>
                  <a href="#!" class="text-white">Sản phẩm mới</a>
                </li>
                <li>
                  <a href="#!" class="text-white">Sản phẩm bán chạy</a>
                </li>
                <li>
                  <a href="#!" class="text-white">Tạp chí làm đẹp</a>
                </li>
              </ul>
            </div>
            <!--Grid column-->


          </div>
          <!--Grid row-->
        </section>
        <!-- Section: Links -->
        <div class="row mt-3">
          <div class="col-md-12">
            <p>
              <span class="font-weight-bold">Họ tên - MSSV:</span>
              Trần Công Minh - 22638121
            </p>
            <p>
              <span class="font-weight-bold">Lớp học:</span> DHKTPM18B
            </p>
            <p>
              <span class="font-weight-bold">Điện thoại:</span> 0123456789 -
              <span class="font-weight-bold">Email:</span>
              tcminhangiang@gmail.com -
            </p>
            <p><span class="font-weight-bold">Copyright © hasaki.vn thegioiskhinfood – All rights
                reserved:</span></p>

          </div>
        </div>
      </div>
  </footer>

  <!-- Kiểm tra đăng Nhập -->
  <script>
    $(document).ready(function () {
      //ghi nhận đã đăng nhập
      let isLoggedIn = false;

      let listTk = localStorage.getItem("listAccount")
        ? JSON.parse(localStorage.getItem("listAccount"))
        : [];
      console.log(listTk);

      $("#btnDangNhap").click(function (e) {
        // Lấy giá trị từ các input
        let tenDN = $("#tenDangNhap").val();
        let matKhau = $("#new_pwd").val();
        console.log(tenDN, matKhau);

        // Kiểm tra tài khoản tồn tại
        function ktrTonTai(tenDN) {
          let found = listTk.some((tk) => {
            console.log(tk.username, tk.email);
            return tk.username === tenDN || tk.email === tenDN;
          });
          if (!found) {
            alert("Tài khoản không tồn tại");
          }
          return found;
        }

        // Kiểm tra rỗng
        function chkRong(tenDN, matKhau) {
          if (tenDN === "" || matKhau === "") {
            alert("Vui lòng nhập đầy đủ thông tin");
            return false;
          }
          return true;
        }

        // Kiểm tra tài khoản và mật khẩu
        function ktrTKvaMK(tenDN, matKhau) {
          let found = listTk.find((tk) => {
            return (tk.username === tenDN || tk.email === tenDN) && tk.password === matKhau;
          });
          if (!found) {
            alert("Sai tên đăng nhập hoặc mật khẩu");
          }
          return found;
        }

        // Nếu tài khoản tồn tại, không rỗng và tài khoản và mật khẩu đúng
        if (ktrTonTai(tenDN) && chkRong(tenDN, matKhau) && ktrTKvaMK(tenDN, matKhau)) {
          alert("Đăng nhập thành công");
          isLoggedIn = true;
          //set trạng thái đã đn lên localStorage
          localStorage.setItem('isLoggedIn', isLoggedIn);
          window.location.href = "./index.html";
        } else {
          return;
        }
      });
    });

  </script>
</body>

</html>